<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Caynana AI v6.0</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="/css/style.css?v=2" />
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <style>
    /* =========================================================
       GLOBAL & RESET
       ========================================================= */
    :root {
      --gold: #ffb300;
      --pistachio: #bef264;
      --red: #ff5252;
      --bg-dark: #000;
      --panel-bg: #111;
      --border-color: rgba(255,255,255,0.12);

      /* Sabit bar √∂l√ß√ºleri */
      --topbar-h: 64px;
      --assistantbar-h: 74px;
      --inputdock-h: 86px; /* yakla≈üƒ±k; mobilde deƒüi≈üebilir */
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
    body { background: var(--bg-dark); color: #eee; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; overflow: hidden; margin:0; }

    /* =========================================================
       MOBILE FRAME LAYOUT
       - Chat alanƒ± scroll eder
       - √úst bar sabit, alt input sabit, onun altƒ±nda quick bar sabit
       ========================================================= */
    .mobile-frame{
      position: relative;
      height: 100vh;
      width: 100%;
      overflow: hidden;
      background: #000;
    }

    /* =========================================================
       TOPBAR AYARLARI
       ========================================================= */
    .topbar{
      height: var(--topbar-h);
      position: absolute;
      left: 0; right: 0; top: 0;
      z-index: 4000;
    }

    #profileBtn { display: none !important; }
    .right-controls { display: flex; flex-direction: column; align-items: flex-end; gap: 6px; }
    .notif-row { display: flex; flex-direction: column; align-items: flex-end; gap: 6px; position: relative; }
    .notif-topline { display: flex; align-items: center; gap: 10px; }
    #notifBtn { display: flex; align-items: center; padding: 6px; }
    .plan-chip {
      font-size: 10px; font-weight: 900; padding: 5px 10px; border-radius: 99px;
      border: 1px solid rgba(255,255,255,.1); background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.75);
    }
    .yp-chip .yp-label { font-size: 0; }
    .yp-chip .yp-label::after { content: "S.P"; font-size: 10px; font-weight: 900; color: rgba(255,255,255,.75); }
    .logo-area { gap: 10px; }
    .seesaw-svg { width: 36px; height: 18px; }

    /* =========================================================
       CHAT AREA
       - A≈üaƒüƒ±dan yukarƒ± akƒ±≈ü (en yeni en altta)
       - Scroll chat-area i√ßinde
       ========================================================= */
    .chat-area{
      position: absolute;
      left: 0; right: 0;
      top: var(--topbar-h);
      bottom: calc(var(--assistantbar-h) + var(--inputdock-h));
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;

      display: flex;
      flex-direction: column;
      justify-content: flex-end;

      padding: 14px 12px;
      min-height: 0;
    }
    .chat-area:empty::before { display: none; }
    #msgInput:focus { outline: none; box-shadow: none; }

    /* =========================================================
       INPUT DOCK
       - Assistant bar'ƒ±n √ºst√ºnde sabit
       ========================================================= */
    .input-dock{
      position: fixed;
      left: 0; right: 0;
      bottom: var(--assistantbar-h);
      z-index: 3200;
    }
    .dock-inner{
      padding-bottom: env(safe-area-inset-bottom);
    }

    /* =========================================================
       ‚úÖ PREMIUM ALT BAR (ASSISTANT BAR)
       - Input'un ALTINDA sabit
       ========================================================= */
    .assistant-bar{
      position: fixed;
      left: 0; right: 0;
      bottom: 0;
      height: var(--assistantbar-h);
      padding: 10px 14px calc(10px + env(safe-area-inset-bottom));
      display: flex;
      align-items: center;
      gap: 12px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;

      background: rgba(0,0,0,0.92);
      border-top: 1px solid rgba(255,255,255,0.08);
      z-index: 3000;

      scrollbar-width: none;
    }
    .assistant-bar::-webkit-scrollbar { display: none; }

    .nav-item{
      flex: 0 0 auto;
      min-width: 64px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap: 6px;

      padding: 10px 12px;
      border-radius: 14px;
      color: rgba(255,255,255,0.72);
      border: 1px solid rgba(255,255,255,0.08);
      background: rgba(255,255,255,0.03);

      transition: transform .15s ease, background .15s ease, border-color .15s ease;
      cursor: pointer;
      user-select: none;
    }
    .nav-item:hover,
    .nav-item:active{
      transform: translateY(-2px);
      background: rgba(255,255,255,0.06);
      border-color: rgba(255,255,255,0.14);
      color:#fff;
    }
    .nav-icon { width: 22px; height: 22px; fill: currentColor; opacity: 0.95; }
    .nav-label{
      font-size: 10px;
      font-weight: 800;
      letter-spacing: 0.2px;
      text-transform: uppercase;
      opacity: 0.9;
    }

    /* Giri≈ü yapƒ±lmamƒ±≈üsa gizle (body class ile kontrol edilir) */
    body:not(.is-logged) .assistant-bar { display: none !important; }
    body:not(.is-logged) .input-dock { bottom: 0; } /* login ekranƒ±nda input varsa altta dursun */

    /* =========================================================
       OVERLAY Sƒ∞STEMƒ∞
       ========================================================= */
    .full-overlay {
      position: fixed; inset: 0; width: 100vw; height: 100vh;
      background: #000; z-index: 9000;
      display: flex; align-items: center; justify-content: center;
      opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
    }
    .full-overlay.active { opacity: 1; pointer-events: auto; }
    #loginOverlay { z-index: 9900; background: rgba(0,0,0,0.95); }
    #termsOverlay { z-index: 9950; }
    #pageOverlay  { z-index: 9800; }

    /* =========================================================
       YAN MEN√ú (SIDEBAR)
       ========================================================= */
    .menu-overlay {
      position: fixed; inset: 0; background: rgba(0,0,0,0.8);
      z-index: 5000; opacity: 0; pointer-events: none; transition: .3s;
      display: flex;
    }
    .menu-overlay.open { opacity: 1; pointer-events: auto; }

    .menu-sidebar {
      width: 280px; height: 100%; background: #111;
      transform: translateX(-100%); transition: .3s cubic-bezier(0.2, 0.8, 0.2, 1);
      display: flex; flex-direction: column;
      border-right: 1px solid #333;
      padding: 20px; overflow-y: auto;
    }
    .menu-overlay.open .menu-sidebar { transform: translateX(0); }

    /* =========================================================
       PROFIL KISAYOLU (3D TURUNCU)
       ========================================================= */
    .profile-shortcut-wrap { margin: 10px 0 14px; }
    .profile-shortcut-btn {
      display: flex; align-items: center; gap: 12px; padding: 12px 14px; border-radius: 18px;
      cursor: pointer; user-select: none;
      background: linear-gradient(135deg, rgba(40, 25, 5, 0.95), rgba(15, 10, 5, 0.98));
      border: 1px solid rgba(255, 179, 0, 0.35);
      box-shadow: 0 8px 20px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.08);
      transition: all .15s ease;
    }
    .profile-shortcut-btn:active { transform: translateY(1px); filter: brightness(.95); }
    #profileShortcutIco {
      width: 36px; height: 36px; flex: 0 0 36px; border-radius: 50%; overflow: hidden;
      display: flex; align-items: center; justify-content: center;
      background: #ffb300; border: 2px solid rgba(255, 179, 0, 0.6);
      color: #111; font-size: 18px;
    }
    #profileShortcutIco img { width: 100%; height: 100%; object-fit: cover; }
    .profile-shortcut-text { flex: 1; display: flex; flex-direction: column; justify-content: center; }
    .profile-shortcut-title { font-weight: 800; color: #ffb300; font-size: 13px; text-transform: uppercase; }
    .profile-shortcut-sub { font-size: 13px; font-weight: 600; color: rgba(255,255,255,.9); }

    /* =========================================================
       Dƒ∞ƒûER
       ========================================================= */
    .history-del {
      display: flex; width: 34px; height: 34px; border-radius: 12px;
      align-items: center; justify-content: center;
      border: 1px solid rgba(255,255,255,.1); background: rgba(255,255,255,.04);
    }
    .del-chat { display: none; }
    .menu-action .ico { font-size: 18px; line-height: 1; color: inherit; }
    .menu-action .ico::before { content: none; }
    #menuKurumsal .menu-action[data-action="profile"] { display: none; }
    #loginOverlay .trust-links-clean a { color: rgba(255,255,255,.55); text-decoration: none; }
    #loginHint { display: none; }

    /* Footer sabitse ve altta kalabalƒ±k yapƒ±yorsa gizlemek daha iyi */
    .footer-container{ display:none; }
  </style>
</head>

<body>

<div class="mobile-frame" id="mobileFrame">

  <div class="topbar">
    <div class="left-controls">
      <button class="hamb-btn" id="hambBtn">‚ò∞</button>
    </div>

    <div class="brand-wrapper" id="brandWrapper">
      <div class="logo-area">
        <svg class="seesaw-svg" viewBox="0 0 40 20">
          <g class="seesaw-bar" id="seesawBar">
            <line x1="0" y1="8" x2="40" y2="8" stroke="#ccc" stroke-width="2" stroke-linecap="round" />
            <circle cx="3" cy="5" r="3" fill="#bef264" />
            <circle cx="37" cy="5" r="3" fill="#ffb300" id="orangeBall" />
          </g>
          <polygon points="17,14 23,14 20,8" fill="none" stroke="#666" stroke-width="1.5" />
        </svg>
        <div class="brand-name">Caynana AI</div>
      </div>
      <div class="slogan">Yapay Zek√¢nƒ±n Geleneksel Aklƒ±</div>
    </div>

    <div class="right-controls">
      <div class="notif-row">
        <div class="notif-topline">
          <button class="icon-btn-top" id="notifBtn" aria-label="Bildirimler">
            <svg viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
            <div class="badge" id="notifBadge"></div>
          </button>
          <div id="planChip" class="plan-chip">FREE</div>
        </div>
        <div class="notification-dropdown" id="notifDropdown">
          <div class="notif-header">Bildirimler</div>
          <div class="notif-list" id="notifList"></div>
        </div>
        <div class="yp-chip">
          <div class="yp-label">SAMƒ∞Mƒ∞YET</div>
          <div class="yp-meter"><div class="yp-fill" id="ypFill"></div></div>
          <div class="yp-num" id="ypNum">19%</div>
        </div>
      </div>
    </div>
  </div>

  <div class="menu-overlay" id="menuOverlay">
    <div class="menu-sidebar">
      <button class="new-chat-btn" id="newChatBtn"><span>+</span> YENƒ∞ SOHBET BA≈ûLAT</button>

      <div class="profile-shortcut-wrap" id="profileShortcutMount">
        <div class="profile-shortcut-btn" id="profileShortcutBtn">
          <div class="profile-shortcut-ico" id="profileShortcutIco">üë§</div>
          <div class="profile-shortcut-text">
            <div class="profile-shortcut-title">Profil D√ºzenle</div>
            <div class="profile-shortcut-sub" id="profileShortcutName">‚Äî</div>
          </div>
        </div>
      </div>

      <div class="section-title" id="historyTitle">GE√áMƒ∞≈û SOHBETLER</div>
      <div class="history-list" id="historyList"></div>

      <div class="menu-block asistan">
        <div class="block-head">Asistan</div>
        <div class="menu-grid" id="menuAsistan"></div>
      </div>

      <div class="menu-block astro">
        <div class="block-head">Astro AI</div>
        <div class="menu-grid" id="menuAstro"></div>
      </div>

      <div class="menu-block kurumsal">
        <div class="block-head">Kurumsal</div>
        <div class="menu-grid" id="menuKurumsal"></div>
      </div>

      <div class="menu-footer-actions">
        <a class="action-link" id="logoutBtn">üõ°Ô∏è G√ºvenli √áƒ±kƒ±≈ü</a>
        <a class="action-link delete-acc" id="deleteAccountBtn">üóëÔ∏è Hesabƒ±mƒ± Sil</a>
      </div>
    </div>
  </div>

  <!-- CHAT -->
  <div class="chat-area" id="chat"></div>

  <!-- INPUT (assistant bar'ƒ±n √úST√úNDE) -->
  <div class="input-dock">
    <div class="dock-inner">
      <button class="icon-btn" id="camBtn">
        <svg viewBox="0 0 24 24"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>
      </button>
      <textarea id="msgInput" rows="1" placeholder="Ne lazƒ±m evladƒ±m?" spellcheck="false"></textarea>
      <button class="icon-btn" id="micBtn">
        <svg viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path><path d="M19 10v2a7 7 0 0 1-14 0v-2"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line></svg>
      </button>
      <button class="send-btn" id="sendBtn">
        <svg viewBox="0 0 24 24"><path d="M22 2L11 13"></path><path d="M22 2L15 22L11 13L2 9L22 2Z"></path></svg>
      </button>
    </div>
  </div>

  <!-- ‚úÖ QUICK ACCESS (input'un ALTINDA) -->
  <div class="assistant-bar" id="assistantBar">

    <div class="nav-item" onclick="location.href='/pages/diyet.html'">
      <svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
      <div class="nav-label">Diyet</div>
    </div>

    <div class="nav-item" onclick="location.href='/pages/saglik.html'">
      <svg class="nav-icon" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-1.99.9-1.99 2L3 19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 11h-4v4h-4v-4H6v-4h4V6h4v4h4v4z"/></svg>
      <div class="nav-label">Saƒülƒ±k</div>
    </div>

    <div class="nav-item" onclick="location.href='/pages/fal.html'">
      <svg class="nav-icon" viewBox="0 0 24 24"><path d="M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 5h-2V5h2v3zM4 19h16v2H4z"/></svg>
      <div class="nav-label">Fal</div>
    </div>

    <div class="nav-item" onclick="location.href='/pages/astro.html'">
      <svg class="nav-icon" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9h10v2H7z"/></svg>
      <div class="nav-label">Bur√ß</div>
    </div>

    <div class="nav-item" onclick="location.href='/pages/alisveris.html'">
      <svg class="nav-icon" viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
      <div class="nav-label">Market</div>
    </div>

    <div class="nav-item" onclick="location.href='/pages/tercuman.html'">
      <svg class="nav-icon" viewBox="0 0 24 24"><path d="M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>
      <div class="nav-label">√áeviri</div>
    </div>

  </div>

  <!-- Eski footer sabit ise kalabalƒ±k yapƒ±yordu, CSS ile gizlendi -->
  <div class="footer-container">
    <div class="footer-links">
      <a href="/pages/hakkimizda.html">Hakkƒ±mƒ±zda</a>
      <a href="/pages/sss.html">SSS</a>
      <a href="/pages/gizlilik.html">Gizlilik</a>
      <a href="/pages/iletisim.html">ƒ∞leti≈üim</a>
    </div>
    <div class="footer-brand">@CaynanaAI By Ozyigits 2026</div>
  </div>
</div>

<div class="full-overlay active" id="loginOverlay">
  <div class="login-card">
    <div class="brand-name" style="font-size:24px; margin-bottom:4px;">Caynana.AI</div>
    <div class="login-slogan">Yapay Zek√¢nƒ±n Geleneksel Aklƒ±</div>
    <div class="login-sub" style="margin-top:20px; opacity:0.7;">√úcretsiz giri≈ü yapƒ±n</div>

    <button id="googleLoginBtn">Google ile Devam Et</button>
    <div id="googleBtnWrap" style="margin-top:10px;"></div>
    <button id="appleLoginBtn">Apple ile Devam Et</button>

    <div class="trust-links-clean">
      <a href="/pages/hakkimizda.html">Hakkƒ±mƒ±zda</a>
      <a href="/pages/gizlilik.html">Gizlilik</a>
      <a href="/pages/iletisim.html">ƒ∞leti≈üim</a>
    </div>
    <div style="margin-top:20px; font-size:10px; opacity:0.4;">@CaynanaAI 2026</div>
  </div>
</div>

<div class="full-overlay" id="termsOverlay">
  <div class="login-card">
    <div class="brand-name">S√∂zle≈üme</div>
    <button id="closeTermsBtn" style="position:absolute; top:15px; right:15px; background:none; border:none; color:#fff; font-size:20px;">√ó</button>
    <iframe id="termsFrame" src="/pages/sozlesme.html" style="width:100%; height:300px; border:1px solid #333; margin:15px 0; background:#fff;"></iframe>
    <div style="display:flex; gap:10px; align-items:center; margin-bottom:15px;">
      <input type="checkbox" id="termsCheck">
      <label for="termsCheck" style="font-size:12px; color:#ccc;">Onaylƒ±yorum</label>
    </div>
    <button id="termsAcceptBtn" style="width:100%; padding:12px; background:var(--gold); border:none; border-radius:12px; font-weight:800;">Giri≈ü Yap</button>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>window.CAYNANA_TYPE_SPEED = 28;</script>
<script type="module" src="js/main.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Apple
    const a = document.getElementById("appleLoginBtn");
    if(a) a.onclick = () => alert("Yakƒ±nda...");

    // Menu
    const hamb = document.getElementById("hambBtn");
    const overlay = document.getElementById("menuOverlay");
    if(hamb && overlay){
      hamb.onclick = () => overlay.classList.add("open");
      overlay.onclick = (e) => { if(e.target === overlay) overlay.classList.remove("open"); }
    }

    // Profil
    try {
      const u = JSON.parse(localStorage.getItem("caynana_user_v1") || "{}");
      const pic = u.picture || u.avatar;
      const name = u.fullname || "‚Äî";

      const ico = document.getElementById("profileShortcutIco");
      if(ico && pic) ico.innerHTML = `<img src="${pic}">`;

      const nm = document.getElementById("profileShortcutName");
      if(nm) nm.textContent = name;
    } catch(e) {}

    /* ƒ∞stersen input y√ºksekliƒüini dinamik √∂l√ß√ºp chat alanƒ±nƒ± m√ºkemmelle≈ütirelim:
       - ≈ûimdilik CSS deƒüi≈ükenleriyle √ßalƒ±≈üƒ±yor.
       - main.js i√ßinde bir resize handler ile --inputdock-h g√ºncellenebilir.
    */
    const inputDock = document.querySelector(".input-dock");
    if(inputDock){
      const h = Math.ceil(inputDock.getBoundingClientRect().height);
      if(h > 0) document.documentElement.style.setProperty("--inputdock-h", h + "px");
    }
    window.addEventListener("resize", () => {
      const inputDock2 = document.querySelector(".input-dock");
      if(inputDock2){
        const h2 = Math.ceil(inputDock2.getBoundingClientRect().height);
        if(h2 > 0) document.documentElement.style.setProperty("--inputdock-h", h2 + "px");
      }
    });
  });
</script>

</body>
</html>

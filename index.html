<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#0b0f18" />
  <title>CAYNANA.AI</title>

  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root{
      --primary:#00C897;
      --bg:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --safeB: env(safe-area-inset-bottom);
      --safeT: env(safe-area-inset-top);
      --font:'Plus Jakarta Sans', sans-serif;
    }

    *{ box-sizing:border-box; margin:0; padding:0; -webkit-tap-highlight-color:transparent; }
    html,body{ height:100%; }

    /* WEB: Telefon gibi ortala */
    body{
      font-family:var(--font);
      background:#0b0f18;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    #app{
      width:100%;
      height:100%;
      max-width:480px;
      max-height:920px;
      aspect-ratio: 9 / 19.5;
      background:#0b0f18;
      border-radius:24px;
      overflow:hidden;
      box-shadow:0 0 60px rgba(0,0,0,.55);
      position:relative;
      display:flex;
      flex-direction:column;
    }

    /* Mobilde tam ekran */
    @media (max-width:520px){
      body{ display:block; background:#0b0f18; }
      #app{
        max-width:none; max-height:none; aspect-ratio:auto;
        width:100vw; height:100dvh;
        border-radius:0; box-shadow:none;
      }
    }

    /* HERO */
    #hero{
      flex:0 0 46%;
      position:relative;
      background-size:cover;
      background-repeat:no-repeat;
      background-position:center 28%;
      transition: background-image .30s ease, background-position .30s ease;
      touch-action: pan-y;
      user-select:none;
    }

    /* Ãœst yazÄ± iÃ§in koyu ÅŸerit + altta beyaz fade */
    #hero::after{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(to bottom,
          rgba(0,0,0,.62) 0%,
          rgba(0,0,0,.25) 38%,
          rgba(255,255,255,0) 72%,
          rgba(255,255,255,.96) 100%);
      pointer-events:none;
    }

    /* HEADER */
    header{
      position:absolute;
      top:0; left:0; right:0;
      padding: calc(14px + var(--safeT)) 16px 10px 16px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      z-index:6;
      pointer-events:none;
    }

    .brand{
      display:flex; flex-direction:column; gap:6px;
      pointer-events:auto;
      cursor:pointer;
    }

    .brand .top{
      display:flex; align-items:center; gap:10px;
      font-weight:900; font-size:22px;
      color:#fff;
      text-shadow:0 10px 28px rgba(0,0,0,.45);
      letter-spacing:-.3px;
    }
    .brand .top i{ color:var(--primary); }
    .brand .top span{ color:var(--primary); }

    .brand .sub{
      font-size:12px;
      font-weight:900;
      color:rgba(255,255,255,.86);
      text-shadow:0 10px 28px rgba(0,0,0,.40);
    }

    .menu-btn{
      width:44px; height:44px;
      border-radius:999px;
      background:rgba(255,255,255,.16);
      border:1px solid rgba(255,255,255,.24);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      display:flex; align-items:center; justify-content:center;
      color:#fff;
      pointer-events:auto;
    }

    /* HERO TEXT */
    .hero-text{
      position:absolute;
      left:16px; right:16px;
      top: 112px;            /* JS modlara gÃ¶re gÃ¼nceller */
      z-index:6;
      pointer-events:none;
    }

    .hero-text h1{
      font-size:34px;
      font-weight:950;
      line-height:1.05;
      color:#fff;
      letter-spacing:-.8px;
      text-shadow:0 14px 30px rgba(0,0,0,.50);
    }

    .hero-text p{
      margin-top:10px;
      font-size:15px;
      font-weight:900;
      color:rgba(255,255,255,.88);
      text-shadow:0 12px 26px rgba(0,0,0,.42);
      max-width: 92%;
    }

    /* MAIN */
    #main{
      flex:1;
      background: var(--bg);
      padding:16px 16px 260px 16px; /* bottom payÄ± */
      overflow:auto;
      -webkit-overflow-scrolling: touch;
    }

    .qwrap{ display:flex; flex-direction:column; gap:12px; }

    .qcard{
      background:#fff;
      border:1px solid rgba(0,0,0,.06);
      border-radius:18px;
      padding:16px 16px;
      font-size:15px;
      font-weight:900;
      color:#1f2937;
      box-shadow:0 10px 22px rgba(0,0,0,.07);
    }

    /* BOTTOM BAR */
    #bottom{
      position:absolute;
      left:0; right:0; bottom:0;
      background:rgba(255,255,255,.96);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border-top:1px solid rgba(0,0,0,.06);
      z-index:20;
      padding-bottom: calc(var(--safeB) + 12px);
    }

    #tip{
      width:max-content;
      max-width:92%;
      margin:-18px auto 10px auto;
      padding:10px 18px;
      border-radius:999px;
      background:#fff;
      border:1px solid rgba(0,0,0,.06);
      box-shadow:0 12px 26px rgba(0,0,0,.10);
      font-weight:950;
      color:var(--primary);
      text-align:center;
    }

    /* INPUT */
    #standardUI{
      padding:12px 16px;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .iconBtn{
      width:44px; height:44px;
      display:flex; align-items:center; justify-content:center;
      color:#6b7280;
      border-radius:14px;
      flex:0 0 44px;
    }

    .inputBox{
      flex:1;
      height:52px;
      background:#f3f4f6;
      border:1px solid rgba(0,0,0,.06);
      border-radius:26px;
      display:flex;
      align-items:center;
      padding:0 10px;
      gap:8px;
    }

    .inputBox input{
      flex:1;
      border:none;
      outline:none;
      background:transparent;
      font-size:15px;
      font-weight:900;
      color:#111;
      padding:0 6px;
      min-width: 0;
    }

    .sendBtn{
      width:52px; height:52px;
      border:none;
      border-radius:50%;
      background:var(--primary);
      color:#fff;
      font-size:18px;
      display:flex; align-items:center; justify-content:center;
      box-shadow:0 10px 22px rgba(0,0,0,.12);
      cursor:pointer;
      flex:0 0 52px;
    }

    /* Fal Ã¶zel */
    #falUI{ display:none; padding:12px 16px 14px 16px; }
    .bigFalBtn{
      width:100%;
      border:none;
      border-radius:999px;
      padding:16px 16px;
      font-size:16px;
      font-weight:950;
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      cursor:pointer;
      background: linear-gradient(135deg, var(--primary), #b88f23);
      box-shadow:0 14px 26px rgba(0,0,0,.18);
    }

    /* DOCK */
    .dockWrap{
      padding: 8px 12px 0 12px;
      overflow-x:auto;
      scrollbar-width:none;
      scroll-snap-type: x mandatory;
    }
    .dockWrap::-webkit-scrollbar{ display:none; }

    .dock{
      display:flex;
      gap:14px;
      width:max-content;
      padding: 0 4px 8px 4px;
    }

    .tab{
      min-width:62px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:6px;
      color:#9aa0a6;
      font-size:11px;
      font-weight:950;
      user-select:none;
      cursor:pointer;
      opacity:.78;
      transition:.2s;
      scroll-snap-align: start;
    }

    .tab i{
      width:48px; height:48px;
      border-radius:16px;
      display:flex; align-items:center; justify-content:center;
      background:#f3f4f6;
      color:#9aa0a6;
      font-size:20px;
      transition:.2s;
    }

    .tab.active{ opacity:1; color:#111; }
    .tab.active i{
      background:var(--primary);
      color:#fff;
      box-shadow:0 10px 20px rgba(0,0,0,.12);
      transform: translateY(-2px);
    }

    /* Footer */
    .footer{
      text-align:center;
      font-size:11px;
      font-weight:950;
      color:#666;
      padding:8px 0 10px;
    }
    .flag{
      width:64px; height:4px;
      margin:6px auto 0;
      display:flex;
      border-radius:4px;
      overflow:hidden;
    }
    .flag span{ flex:1; }
    .g{ background:#009246; }
    .w{ background:#fff; }
    .r{ background:#CE2B37; }

    #fileInput{ display:none !important; }
  </style>
</head>

<body>
  <div id="app">
    <header>
      <div class="brand" onclick="switchMode('shopping')">
        <div class="top"><i class="fa-solid fa-wand-magic-sparkles"></i> CAYNANA<span>.AI</span></div>
        <div class="sub">Yapay ZekÃ¢nÄ±n Geleneksel AklÄ±</div>
      </div>
      <div class="menu-btn"><i class="fa-solid fa-bars"></i></div>
    </header>

    <div id="hero">
      <div class="hero-text">
        <h1 id="heroTitle">Almadan Ã¶nce<br>Caynanaâ€™ya sor.</h1>
        <p id="heroDesc">Sonra â€œkeÅŸkeâ€ dememek iÃ§in buradayÄ±m.</p>
      </div>
    </div>

    <div id="main">
      <div class="qwrap" id="quickCards"></div>
    </div>

    <div id="bottom">
      <div id="tip">Her indirime atlayan sonunda pahalÄ± Ã¶der.</div>

      <div id="standardUI">
        <div class="iconBtn" onclick="openCamera()"><i class="fa-solid fa-camera"></i></div>
        <div class="inputBox">
          <input id="userInput" placeholder="Ne danÄ±ÅŸmak istersin?" />
          <div class="iconBtn" onclick="void(0)"><i class="fa-solid fa-microphone"></i></div>
        </div>
        <button class="sendBtn" id="sendBtn" onclick="send()"><i class="fa-solid fa-paper-plane"></i></button>
      </div>

      <div id="falUI">
        <button class="bigFalBtn" onclick="takeFalPhoto()">
          <i class="fa-solid fa-camera"></i> FincanÄ±nÄ± Ã‡ek ve Yorumla
        </button>
      </div>

      <div class="dockWrap">
        <div class="dock" id="dock"></div>
      </div>

      <div class="footer">
        @CaynanaAI by Italky Technology
        <div class="flag"><span class="g"></span><span class="w"></span><span class="r"></span></div>
      </div>
    </div>

    <input type="file" id="fileInput" accept="image/*" capture="environment" />
  </div>

<script>
  const HERO_BASE = "images/";

  // YÃœZÃœ KAPATMAMAK Ä°Ã‡Ä°N:
  // pos: background-position (x y)
  // top: yazÄ± kutusunun Ã¼stten konumu
  const modes = {
    shopping:  { color:"#00C897", img:"hero-shopping.png",  pos:"center 18%", top:112,
      tip:"Her indirime atlayan sonunda pahalÄ± Ã¶der.",
      title:"Almadan Ã¶nce<br>Caynanaâ€™ya sor.",
      desc:"Sonra â€œkeÅŸkeâ€ dememek iÃ§in buradayÄ±m.",
      ph:"Ne danÄ±ÅŸmak istersin?",
      cards:["Ä°ndirimleri tarÄ±yorum. Ne alacaÄŸÄ±z?","BÃ¼tÃ§eni sÃ¶yle, en iyisini bulayÄ±m.","Sponsor varsa saklamam."] },

    chat:      { color:"#FFB300", img:"hero-chat.png",      pos:"center 22%", top:118,
      tip:"Benim zamanÄ±mda her ÅŸey daha gÃ¼zeldi ah ahâ€¦",
      title:"Caynana ile<br>iki lafÄ±n belini kÄ±r.",
      desc:"Biraz dur bakalÄ±m, neler anlatacaksÄ±n?",
      ph:"Naber Caynana?",
      cards:["Anlat dinliyorum, canÄ±nÄ± sÄ±kan ne?","BugÃ¼n neyi dert ettin?","Ben buradayÄ±m, dÃ¶kÃ¼lâ€¦"] },

    fal:       { color:"#D4AF37", img:"hero-fal.png",       pos:"center 20%", top:118,
      tip:"FincanÄ± kapattÄ±n mÄ±? Ã‡ek gÃ¶nder bakalÄ±m.",
      title:"FalÄ±na bakalÄ±m mÄ±?",
      desc:"FincanÄ± Ã§ek, ben yorumlayayÄ±m.",
      ph:"",
      cards:["FincanÄ± kapattÄ±n mÄ±? Ã‡ek gÃ¶nder bakalÄ±m.","Niyetini sÃ¶yle, ona gÃ¶re bakayÄ±m.","Korkmaâ€¦ ama doÄŸruyu sÃ¶ylerim."] },

    dream:     { color:"#6366F1", img:"hero-dream.png",     pos:"center 16%", top:110,
      tip:"HayÄ±rdÄ±r inÅŸallahâ€¦",
      title:"RÃ¼yada ne gÃ¶rdÃ¼n?",
      desc:"Anlat, tabir edeyim.",
      ph:"Ne gÃ¶rdÃ¼n rÃ¼yanda?",
      cards:["HayÄ±rdÄ±r inÅŸallahâ€¦ RÃ¼yanda ne gÃ¶rdÃ¼n?","DetayÄ± sÃ¶yle, tabiri netleÅŸir.","Sabaha kadar konuÅŸuruz, sÄ±kÄ±ntÄ± yok."] },

    health:    { color:"#EF4444", img:"hero-health.png",    pos:"center 18%", top:110,
      tip:"SaÄŸlÄ±k ihmale gelmez.",
      title:"Caynana SaÄŸlÄ±kâ€™la<br>alÄ±ÅŸkanlÄ±k kazan.",
      desc:"Neren aÄŸrÄ±yor sÃ¶yle bakayÄ±m?",
      ph:"Neren aÄŸrÄ±yor?",
      cards:["Neyin var evladÄ±m? SaÄŸlÄ±k ihmale gelmez.","Belirtiyi yaz, ben yÃ¶nlendireyim.","Ã–nce sakin olâ€¦ anlat."] },

    diet:      { color:"#84CC16", img:"hero-diet.png",      pos:"center 18%", top:110,
      tip:"Ekmek deÄŸil, yeÅŸillik ye.",
      title:"Caynana Diyetâ€™le<br>saÄŸlÄ±klÄ± beslen!",
      desc:"AÃ§lÄ±ktan deÄŸil, keyiften yiyin.",
      ph:"Boy kilo kaÃ§ evladÄ±m?",
      cards:["SaÄŸlÄ±klÄ± zayÄ±flamanÄ±n yolunu bulalÄ±m.","Boy-kilo yaz, hedef koyalÄ±m.","Ekmek deÄŸil, yeÅŸillik ye."] },

    food:      { color:"#F97316", img:"hero-food.png",      pos:"center 18%", top:110,
      tip:"Malzemeyi ziyan etme, bereket kaÃ§ar.",
      title:"Caynana Yemekâ€™le<br>ne piÅŸirsem derdi biter.",
      desc:"Dolapta ne var sÃ¶yle, tarif benden.",
      ph:"Dolapta ne var?",
      cards:["Dolapta ne var? Sana harika bir tarif vereyim.","Malzemeyi yaz, menÃ¼ Ã§Ä±karayÄ±m.","Ziyan etme, bereket kaÃ§ar."] },

    law:       { color:"#3B82F6", img:"hero-law.png",       pos:"center 18%", top:110,
      tip:"SÃ¶zleÅŸmeye bakmadan imza atma!",
      title:"Caynana Hukukâ€™la<br>kim haklÄ± Ã¶ÄŸren.",
      desc:"Ben avukat deÄŸilim ama Ã§ok dava gÃ¶rdÃ¼m.",
      ph:"KÄ±saca anlat, yol gÃ¶stereyim.",
      cards:["SÃ¶zleÅŸmeye bakmadan imza atma!","KÄ±saca anlat, yol gÃ¶stereyim.","Evrak varsa foto at."] },

    astro:     { color:"#D946EF", img:"hero-astro.png",     pos:"center 18%", top:110,
      tip:"YÄ±ldÄ±znameye baktÄ±m, yolun aÃ§Ä±k.",
      title:"YÄ±ldÄ±zlar senin iÃ§in<br>ne diyor?",
      desc:"MerkÃ¼r retrosu falanâ€¦ dikkat et.",
      ph:"Burcun ne?",
      cards:["YÄ±ldÄ±znameye baktÄ±m, yolun aÃ§Ä±k.","Burcunu yaz, yorumlayayÄ±m.","BugÃ¼n enerjin yÃ¼ksekâ€¦ ama temkinli ol."] },

    translate: { color:"#9CA3AF", img:"hero-translate.png", pos:"center 18%", top:110,
      tip:"Dil bilmek altÄ±n bileziktir.",
      title:"Ã‡eviri lazÄ±m mÄ±?<br>SÃ¶yle Ã§evireyim.",
      desc:"Metni yapÄ±ÅŸtÄ±r, ben hallederim.",
      ph:"Metni yapÄ±ÅŸtÄ±r.",
      cards:["Metni yapÄ±ÅŸtÄ±r, ben hallederim.","FotoÄŸraf da atabilirsin.","KÄ±sa mÄ± uzun mu? sÃ¶yle."] }
  };

  const dockOrder = ["shopping","chat","fal","dream","health","diet","food","law","astro","translate"];
  const dockLabels = { shopping:"AlÄ±ÅŸveriÅŸ", chat:"Sohbet", fal:"Fal", dream:"RÃ¼ya", health:"SaÄŸlÄ±k", diet:"Diyet", food:"Yemek", law:"Hukuk", astro:"BurÃ§", translate:"Ã‡eviri" };
  const dockIcons  = {
    shopping:"fa-bag-shopping", chat:"fa-comments", fal:"fa-mug-hot", dream:"fa-moon",
    health:"fa-heart-pulse", diet:"fa-apple-whole", food:"fa-utensils", law:"fa-scale-balanced",
    astro:"fa-star", translate:"fa-language"
  };

  let currentMode = "shopping";
  let sx = 0;

  const $ = (id)=>document.getElementById(id);

  function setTheme(color){
    document.documentElement.style.setProperty("--primary", color);
  }

  // Preload + swap (flash yok)
  let lastBg = "";
  function setHeroBackground(file, pos){
    const hero = $("hero");
    hero.style.backgroundPosition = pos || "center 28%";

    const url = `${HERO_BASE}${file}?v=${Date.now()}`;
    const img = new Image();
    img.onload = () => {
      lastBg = `url("${url}")`;
      hero.style.backgroundImage = lastBg;
    };
    img.onerror = () => {
      // yÃ¼klenmezse eskisini tut
      if (lastBg) hero.style.backgroundImage = lastBg;
    };
    img.src = url;
  }

  function setHeroText(topPx, title, desc){
    document.querySelector(".hero-text").style.top = (topPx||112) + "px";
    $("heroTitle").innerHTML = title;
    $("heroDesc").innerText = desc;
  }

  function setTip(t){ $("tip").innerText = t || ""; }

  function setFalUI(isFal){
    $("standardUI").style.display = isFal ? "none" : "flex";
    $("falUI").style.display = isFal ? "block" : "none";
  }

  function renderDock(){
    const dock = $("dock");
    dock.innerHTML = "";
    dockOrder.forEach(k=>{
      const tab = document.createElement("div");
      tab.className = "tab" + (k===currentMode ? " active":"");
      tab.innerHTML = `<i class="fa-solid ${dockIcons[k]}"></i><span>${dockLabels[k]}</span>`;
      tab.onclick = ()=> switchMode(k);
      dock.appendChild(tab);
    });
  }

  function renderQuickCards(arr){
    const wrap = $("quickCards");
    wrap.innerHTML = "";
    (arr||[]).forEach(t=>{
      const div = document.createElement("div");
      div.className = "qcard";
      div.textContent = t;
      wrap.appendChild(div);
    });
  }

  function switchMode(modeName){
    if(!modes[modeName]) return;
    currentMode = modeName;
    const m = modes[modeName];

    setTheme(m.color);
    setHeroBackground(m.img, m.pos);
    setHeroText(m.top, m.title, m.desc);
    setTip(m.tip);
    setFalUI(modeName==="fal");
    renderQuickCards(m.cards);
    renderDock();
    $("userInput").placeholder = m.ph || "";
  }

  function send(){
    const val = $("userInput").value.trim();
    if(!val) return;
    // Demo quick-cards (backend entegre edince burayÄ± senin send() fonksiyonuna baÄŸlarÄ±z)
    renderQuickCards([`Sen: ${val}`, "Hele durâ€¦ bir bakayÄ±mâ€¦"]);
    $("userInput").value = "";
  }

  function openCamera(){ $("fileInput").value=""; $("fileInput").click(); }
  function takeFalPhoto(){ openCamera(); }

  $("fileInput").addEventListener("change",(e)=>{
    const f = e.target.files && e.target.files[0];
    if(!f) return;
    renderQuickCards([`ğŸ“· FotoÄŸraf seÃ§ildi: ${f.name}`, "Tamamâ€¦ yorumluyorumâ€¦"]);
  });

  // HERO SWIPE (modlar arasÄ±)
  $("hero").addEventListener("touchstart",(e)=>{ sx=e.touches[0].clientX; }, {passive:true});
  $("hero").addEventListener("touchend",(e)=>{
    const dx = e.changedTouches[0].clientX - sx;
    if(Math.abs(dx) < 60) return;
    const i = dockOrder.indexOf(currentMode);
    if(dx < 0 && i < dockOrder.length-1) switchMode(dockOrder[i+1]);
    if(dx > 0 && i > 0) switchMode(dockOrder[i-1]);
  }, {passive:true});

  // Enter gÃ¶nder
  $("userInput").addEventListener("keydown",(e)=>{
    if(e.key === "Enter") send();
  });

  // Init
  switchMode("shopping");
</script>
</body>
</html>
